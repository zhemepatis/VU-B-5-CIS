def iteration(pair, func, key):
    l, r = pair
    l_result = eval(func) ^ l
    return (r, l_result)

def encrypt_ebc(pair, func, keys):
    for key in keys:
        pair = iteration(pair, func, key)

    r_result, l_result = pair
    return (l_result, r_result)

def decrypt_ebc(pair, func, keys):
    d_keys = keys[::-1]
    return encrypt_ebc(pair, func, d_keys)

def encrypt_crt(l, r, keys):
    pass

def encrypt_cbc(l, r, keys):
    pass

def encrypt_cfb(l, r, keys):
    pass


#     '''
# 1. Feistelio šifro su trimis iteracijomis raktas =[212, 106, 68]
# Iteracijos funkcija (m&k)^((k%16)|m)
# Iššifruokite šifrą 
# [[79, 74], [88, 94], [73, 94], [73, 93], [67, 79]
# '''
# key = [212, 106, 68]
# C = [[79, 74], [88, 94], [73, 94]]

# def iter(M,k,f):
#     r=M[1]
#     l=M[0]^^eval(f)
#     return [r,l]

# f='(r&k)^((k%16)|r)'
# c=C[0]

# m=iter(c,key[2],f)
# m=iter(m,key[1],f)
# m=iter(m,key[0],f)
# m=[m[1], m[0]]
# chr(m[0]) + m(m[1])


# [[73, 169], [36, 26], [253, 51], [2, 149], [84, 36], [173, 21], [112, 161], [12, 16], [217, 62], [41, 141], [122, 40], [128, 22], [79, 165], [39, 10], [229, 63], [7, 156], [72, 61], [182, 11], [110, 180], [25, 29], [199, 32], [49, 135], [113, 52], [143, 28], [70, 169], [51, 18], [247, 58], [6, 137], [64, 53], [162, 12], [101, 163], [12, 4], [211, 42], [48, 139], [117, 60], [131, 20], [83, 190], [46, 13], [246, 35], [12, 154], [84, 33], [164, 18], [111, 161], [15, 2], [198, 43], [42, 145], [102, 37], [128, 4], [72, 164], [45, 22], [228, 41], [0, 155], [94, 54], [177, 2], [115, 178], [6, 23], [222, 49], [54, 158], [123, 44], [143, 12], [69, 162], [54, 17], [243, 48], [11, 146]]
# [153, 12, 73, 169, 36, 26, 253, 51, 2, 149, 84, 36, 173, 21, 112, 161, 12, 16, 217, 62, 41, 141, 122, 40, 128, 22, 79, 165, 39, 10, 229, 63, 7, 156, 72, 61, 182, 11, 110, 180, 25, 29, 199, 32, 49, 135, 113, 52, 143, 28, 70, 169, 51, 18, 247, 58, 6, 137, 64, 53, 162, 12, 101, 163, 12, 4, 211, 42, 48, 139, 117, 60, 131, 20, 83, 190, 46, 13, 246, 35, 12, 154, 84, 33, 164, 18, 111, 161, 15, 2, 198, 43, 42, 145, 102, 37, 128, 4, 72, 164, 45, 22, 228, 41, 0, 155, 94, 54, 177, 2, 115, 178, 6, 23, 222, 49, 54, 158, 123, 44, 143, 12, 69, 162, 54, 17, 243, 48, 11, 146]
